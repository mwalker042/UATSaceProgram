<!DOCTYPE html>

<!-- 
    Michael Walker
    Assignment: Change Order Request from the Fleet Admiral
-->

<HTML>
    <HEAD>
        <!-- Sets the title at top of window -->
       <title>UAT Space Program - Michael Walker</title>

       <style type="text/css">
            body {
                text-align: center;
            }

            #warning {
                color: red;
            }
       </style>
    </HEAD>
    <BODY>
        <p id="localTime"></p>

        <!-- Link the external JavaScript file code.js -->
        <script type="text/javascript" src="code.js"></script>

        <!-- Image source is in same folder as index.html -->
        <img src="UATspaceLogo-2.jpg">

        <!-- h1 tag for title of program -->
        <h1>UAT Space Program</h1>

        <!-- Script handles both the initial alert and the document.write function portion of the assignment -->
        <script>
            alert("Prepare for launch!");
            document.write("<p>Test of the document write function.</p>");
        </script>

        <!-- Paragraph (p) tag -->
        <p>Test of the paragraph tags.</p>

        <!-- Placeholder buttons -->
        <button type="button" id="startCountdown">Start</button><button type="button" id="stopCountdown">Stop</button>

        <h1 id="DisplayCountdown"></h1>
        <!-- Countdown script -->
        <script language="javascript" type="text/javascript">
            // Variable to store interval ID
            let intervalID;
            let countdown = 10;

            function beginCountdown()
            {
                // Check if an interval has already been set up
                if (!intervalID)
                {
                    intervalID = setInterval(countdownFunc, 1000);
                }
            }

            function countdownFunc()
            {
                if (countdown < 5)  // Run the following when countdown is less than 5 seconds from blastoff
                {
                    document.getElementById("DisplayCountdown").innerHTML = "<span id='warning'>Warning!</span> Less than half way to launch: " + countdown + " seconds";
                    countdown--;
                }
                else                // Run the following when countdown is not less than 5 seconds from blastoff
                {
                    document.getElementById("DisplayCountdown").innerHTML = countdown + " seconds";
                    countdown--;
                }

                if (countdown < -1) // Clear the intervalID and display Blastoff! when countdown reaches 0
                {
                    clearInterval(intervalID);
                    intervalID = null;

                    document.getElementById("DisplayCountdown").innerHTML = "Blastoff!";
                }
            }

            function stopCountdown()
            {
                clearInterval(intervalID);
                // Release interval ID from variable
                intervalID = null;

                // Print halt message and reset countdown to 10
                document.getElementById("DisplayCountdown").innerHTML = "Countdown halted!";
                countdown = 10;
            }

            // Add event listeners for the start and stop buttons
            document.getElementById("startCountdown").addEventListener("click", beginCountdown);
            document.getElementById("stopCountdown").addEventListener("click", stopCountdown);
        </script>
    </BODY>
 </HTML>